<div class="ps-4 pt-3">
    <button routerLink="" type="button" class="btn btn-light"><svg xmlns="http://www.w3.org/2000/svg" width="16"
            height="16" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
            <path fill-rule="evenodd"
                d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z" />
        </svg> Regresar</button>
</div>

<div class="container py-5">
    <div class="form row g-3 needs-validation bg-dark" novalidate>
        <ul class="tab-group">
            <li class="tab"><a class="fs-6" routerLink="../login">Iniciar sesión</a></li>
            <li class="tab active"><a class="fs-6" routerLink="../register">Registrarse</a></li>
        </ul>
        <div class="tab-content">
            <h1>Registrate, es gratis</h1>
            <form (ngSubmit)="mostrar()">
                <div class="form-floating mb-3">
                    <input type="number" class="form-control" [(ngModel)]="user.id_usuario" name="ident"
                        id="inputIdentificacion" #inputIdentificacion="ngModel" placeholder="identificacion" required
                        autocomplete="off">
                    <label for="inputIdentificacion">Identificacion<span class="req">*</span></label>
                </div>

                <div *ngIf="inputIdentificacion.touched && !inputIdentificacion.valid">
                    <ngb-alert [dismissible]="false" type="danger">
                        Debe ingresar su identificacion
                    </ngb-alert>
                </div>

                <div class="top-row">
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" [(ngModel)]="user.nombre" name="name" id="inputNombre"
                            placeholder="name" #inputNombre="ngModel" required autocomplete="off">
                        <label for="inputNombre">Nombre<span class="req">*</span></label>
                    </div>

                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" [(ngModel)]="user.apellido" name="lastname"
                            id="inputApellido" #inputApellido="ngModel" placeholder="lastName" required
                            autocomplete="off">
                        <label for="inputApellido">Apellido<span class="req">*</span></label>
                    </div>
    
                </div>
                <div *ngIf="inputNombre.touched && !inputNombre.valid">
                    <ngb-alert [dismissible]="false" type="danger">
                        Debe ingresar su nombre
                    </ngb-alert>
                </div>

                <div *ngIf="inputApellido.touched && !inputApellido.valid">
                    <ngb-alert [dismissible]="false" type="danger">
                        Debe ingresar su apellido
                    </ngb-alert>
                </div>

                <div class="form-floating mb-3">
                    <input type="email" class="form-control" [(ngModel)]="user.correo" name="correo" id="inputCorreo"
                        placeholder="inputCorreo" #inputCorreo="ngModel" ng-model="inputCorreo" ng-pattern="^[a-z]+[a-z0-9._-]+@[a-z]+\.[a-z.]{2,5}$" required>
                    <label for="inputCorreo">Correo electronico<span class="req">*</span></label>
                </div>

                <div *ngIf="inputCorreo.touched && !inputCorreo.valid">
                    <ngb-alert [dismissible]="false" type="danger">
                        Debe ingresar un correo electronico
                    </ngb-alert>
                </div>

                <div class="form-floating mb-3">
                    <input type="number" class="form-control" [(ngModel)]="user.telefono" name="phone" id="inputPhone"
                        placeholder="inputPhone" #inputPhone="ngModel" required autocomplete="off">
                    <label for="inputPhone">Telefono<span class="req">*</span></label>
                </div>

                <div *ngIf="inputPhone.touched && !inputPhone.valid">
                    <ngb-alert [dismissible]="false" type="danger">
                        Debe ingresar un numero de telefono
                    </ngb-alert>
                </div>

                <div class="form-floating mb-3">
                    <input type="password" class="form-control" [(ngModel)]="user.contrasena" name="password"
                        id="inputPassword" placeholder="Contraseña" #inputPassword="ngModel" required
                        autocomplete="off">
                    <label for="inputPassword">Contraseña<span class="req">*</span></label>
                </div>

                <div *ngIf="inputPassword.touched && !inputPassword.valid">
                    <ngb-alert [dismissible]="false" type="danger">
                        Debe ingresar su contraseña
                    </ngb-alert>
                </div>

                <div class="form-floating mb-3">
                    <input type="password" class="form-control" [(ngModel)]="verificarContra" name="password2"
                        id="inputPassword2" placeholder="Contraseña" #inputPassword2="ngModel" required
                        autocomplete="off">
                    <label for="inputPassword2">Repetir contraseña<span class="req">*</span></label>
                </div>

                <div *ngIf="veri() && inputPassword.touched">
                    <ngb-alert [dismissible]="false" type="danger">
                        La contraseña debe coincidir
                    </ngb-alert>
                </div>
                

                <div class="pt-5">
                    <button
                        [disabled]="!inputIdentificacion.valid || !inputNombre.valid || !inputApellido.valid || !inputCorreo.valid || !inputPhone.valid || !inputPassword.valid || veri()"
                        type="submit" class="w-100 p-3 mb-3 btn btn-lg rounded-4 btn-success fs-5" >Registrarse</button>
                </div>
            </form>
        </div>
    </div>
</div>